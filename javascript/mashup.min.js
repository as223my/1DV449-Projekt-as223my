"use strict";var mashup={toAdd:{},newList:[],init:function(s){$(".add").click(function(){var s=this.id;$.ajax({type:"get",url:"./src/model/search.json",dataType:"json",success:function(t){for(var a=0;a<t.length;a++)t[a].imdbID==s&&(mashup.toAdd.imdbID=t[a].imdbID,mashup.toAdd.imdbRating=t[a].imdbRating,mashup.toAdd.Title=t[a].Title,mashup.toAdd.Year=t[a].Year,mashup.toAdd.Poster=t[a].Poster,mashup.toAdd.Plot=t[a].Plot,mashup.toAdd.Type=t[a].Type);$.ajax({type:"get",url:"./src/model/list.json",dataType:"json",success:function(t){if(null!=t)for(var a=0;a<t.length;a++)mashup.newList.push(t[a]);for(var o=0;o<mashup.newList.length;o++)mashup.toAdd.imdbID==mashup.newList[o].imdbID&&(mashup.toAdd={});mashup.newList.push(mashup.toAdd),$.ajax({type:"post",url:"./src/model/addToList.php",data:{list:mashup.newList},dataType:"text",success:function(t){mashup.newList=[],mashup.toAdd={},$("#"+s).prop("disabled",!0),$("#"+s).css("color","black"),s=""}})}})}})}),$(".remove").click(function(){var s=this.id,t=[];$.ajax({type:"GET",url:"./src/model/list.json",dataType:"json",success:function(a){console.log(a.length);for(var o=0;o<a.length;o++)a[o].imdbID==s||t.push(a[o]);$.ajax({type:"post",url:"src/model/addToList.php",data:{list:t},dataType:"text",success:function(s){location.reload(window.location.href)}})}})})}};window.onload=mashup.init;